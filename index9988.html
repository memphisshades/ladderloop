<!-- Last updated: 2025-14-12 @ 1122am GMT -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ladder Loop Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- SEO -->
  <meta name="description" content="Climb, fall, repeat. Ladder Loop is a one‚Äëbutton arcade game where gravity always wins.">
  <meta name="keywords" content="ladder loop, climb, fall, repeat, retro web game, one button game">
  <meta name="author" content="James Tobin">

  <!-- Open Graph -->
  <meta property="og:title" content="Ladder Loop ‚Äì Endless Climb Arcade Game">
  <meta property="og:description" content="Tap to climb, fall back, and repeat. Can you master the loop?">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.ladderloop.com/">
  <meta property="og:image" content="https://www.ladderloop.com/images/ladder-loop-icon.jpg">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Ladder Loop ‚Äì Endless Climb Arcade Game">
  <meta name="twitter:description" content="Climb ladders that never end. Fall. Repeat. The loop is life.">
  <meta name="twitter:image" content="https://www.ladderloop.com/images/ladder-loop-icon.jpg">

  <!-- Favicon -->
<link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="192x192" href="/favicon/android-chrome-192x192.png">
<link rel="icon" type="image/png" sizes="512x512" href="/favicon/android-chrome-512x512.png">
<link rel="icon" type="image/png" sizes="96x96" href="/favicon/favicon-96x96.png">
<link rel="icon" type="image/svg+xml" href="/favicon/favicon.svg">
<link rel="shortcut icon" href="/favicon/favicon.ico">
<link rel="manifest" href="/favicon/site.webmanifest">


  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Press Start 2P', cursive;
      background: #e8e8e8;
      color: #000;
      overflow: hidden;
      height: 100vh;
      width: 100vw;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .container {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      position: relative;
    }

    /* Hero Screen */
    .hero-screen {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      animation: fadeIn 1s ease-in;
    }

    .hero-screen h1 {
      font-size: clamp(2rem, 8vw, 5rem);
      margin-bottom: 30px;
      animation: pulseGlow 1.5s infinite alternate;
    }

    .hero-screen p {
      font-size: clamp(0.8rem, 3vw, 1.5rem);
      margin-bottom: 20px;
      color: #00ffcc;
    }

    /* Burger Menu */
    .burger-menu {
      position: fixed;
      top: 20px;
      right: 20px;
      width: 40px;
      height: 40px;
      cursor: pointer;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      justify-content: space-around;
      padding: 8px;
      background: #ddd;
      border: 2px solid #000;
      border-radius: 3px;
      transition: all 0.1s;
      box-shadow: inset -1px -1px 0px #999, inset 1px 1px 0px #fff;
    }

    .burger-menu:hover {
      background: #ccc;
    }

    .burger-menu:active {
      box-shadow: inset 1px 1px 0px #999, inset -1px -1px 0px #fff;
    }

    .burger-line {
      width: 100%;
      height: 3px;
      background: #000;
      transition: all 0.3s;
      border-radius: 1px;
    }

    .burger-menu.active .burger-line:nth-child(1) {
      transform: rotate(45deg) translate(6px, 6px);
    }

    .burger-menu.active .burger-line:nth-child(2) {
      opacity: 0;
    }

    .burger-menu.active .burger-line:nth-child(3) {
      transform: rotate(-45deg) translate(6px, -6px);
    }

    /* Full Screen Menu */
    .fullscreen-menu {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #e8e8e8;
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1999;
      animation: fadeIn 0.3s ease-in;
      overflow-y: auto;
      overflow-x: hidden;
    }

    .fullscreen-menu.active {
      display: flex;
    }

    .menu-content {
      text-align: center;
      max-width: 600px;
      padding: 80px 20px 40px 20px;
      margin: auto;
    }

    .menu-content h2 {
      font-size: clamp(1.5rem, 5vw, 3rem);
      margin-bottom: 40px;
      color: #000;
      text-shadow: none;
    }

    .menu-items {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .menu-item {
      padding: 15px 30px;
      font-size: clamp(0.7rem, 2vw, 1.2rem);
      font-family: 'Press Start 2P', cursive;
      background: #fff;
      color: #000;
      border: 2px solid #000;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.1s;
      box-shadow: inset -2px -2px 0px #999, inset 2px 2px 0px #fff;
    }

    .menu-item:hover {
      background: #f0f0f0;
    }

    .menu-item:active {
      box-shadow: inset 2px 2px 0px #999, inset -2px -2px 0px #fff;
    }

    .start-btn {
      margin-top: 30px;
      padding: 15px 40px;
      font-size: clamp(0.7rem, 2vw, 1rem);
      font-family: 'Press Start 2P', cursive;
      background: linear-gradient(135deg, #ff0066, #00ccff);
      color: #fff;
      border: 3px solid #ff0066;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 0 20px rgba(255, 0, 102, 0.5);
    }

    .start-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 0 30px rgba(255, 0, 102, 0.8);
    }

    .menu-links {
      margin-top: 40px;
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      justify-content: center;
      max-width: 800px;
      padding: 0 20px;
    }

    .menu-link {
      padding: 10px 20px;
      font-size: clamp(0.5rem, 1.2vw, 0.8rem);
      font-family: 'Press Start 2P', cursive;
      background: rgba(255, 0, 102, 0.1);
      color: #00ffcc;
      border: 2px solid #00ffcc;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      white-space: nowrap;
    }

    .menu-link:hover {
      background: rgba(0, 255, 204, 0.2);
      box-shadow: 0 0 15px rgba(0, 255, 204, 0.5);
      transform: translateY(-2px);
    }

    /* Game Screen */
    .game-screen {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 20px;
      animation: fadeIn 0.5s ease-in;
    }

    .canvas-container {
      position: relative;
      display: inline-block;
    }

    .resize-handle {
      position: absolute;
      width: 20px;
      height: 20px;
      background: #ddd;
      border: 2px solid #000;
      cursor: nwse-resize;
      z-index: 30;
      transition: all 0.1s;
      box-shadow: inset -1px -1px 0px #999, inset 1px 1px 0px #fff;
    }

    .resize-handle:hover {
      background: #ccc;
    }

    .resize-handle.bottom-right {
      bottom: 2px;
      right: 2px;
    }

    .resize-handle.top-left {
      top: 2px;
      left: 2px;
      cursor: nwse-resize;
    }

    .resize-handle.top-right {
      top: 2px;
      right: 2px;
      cursor: nesw-resize;
    }

    .resize-handle.bottom-left {
      bottom: 2px;
      left: 2px;
      cursor: nesw-resize;
    }

    canvas {
      background: #fff;
      border: 2px solid #000;
      border-radius: 0;
      box-shadow: inset -2px -2px 0px #999, inset 2px 2px 0px #fff;
      display: block;
      max-width: 90vw;
      max-height: 70vh;
    }

    .controls {
      display: flex;
      gap: 20px;
      margin-top: 20px;
    }

    .game-btn {
      padding: 12px 24px;
      font-size: clamp(0.6rem, 1.5vw, 0.9rem);
      font-family: 'Press Start 2P', cursive;
      background: #fff;
      color: #000;
      border: 2px solid #000;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.1s;
      box-shadow: inset -2px -2px 0px #999, inset 2px 2px 0px #fff;
    }

    .game-btn:hover {
      background: #f0f0f0;
    }

    .game-btn:active {
      box-shadow: inset 2px 2px 0px #999, inset -2px -2px 0px #fff;
    }

    .game-btn.active {
      background: #6c6;
      color: #000;
    }

    /* Modal Overlay */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      animation: fadeIn 0.3s ease-in;
    }

        .modal-content {
      background: #e8e8e8;
      border: 2px solid #000;
      border-radius: 0;
      padding: 30px;
      max-width: 90vw;
      max-height: 85vh;
      overflow-y: auto;
      box-shadow: 4px 4px 0px #000;
      position: relative;
      width: 90vw;
    }


/* Lightbox Gallery */
    .lightbox-container {
      position: relative;
      width: 100%;
      max-width: 600px;
      margin: 20px auto;
    }
    
      .image-loader {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 200px;
    }
    
    .spinner {
      width: 40px;
      height: 40px;
      border: 4px solid #ddd;
      border-top: 4px solid #000;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
     .lightbox-image {
      width: 100%;
      max-height: 60vh;
      object-fit: contain;
      border: 3px solid #000;
      border-radius: 0;
      box-shadow: 2px 2px 0px #000;
      display: block;
    }


 .lightbox-caption {
      text-align: center;
      font-size: clamp(0.6rem, 1.5vw, 0.85rem);
      color: #000;
      line-height: 1.6;
      margin-top: 15px;
      padding: 0 10px;
    }
    
    .lightbox-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: #ddd;
      border: 2px solid #000;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 1.5rem;
      color: #000;
      transition: all 0.1s;
      box-shadow: inset -1px -1px 0px #999, inset 1px 1px 0px #fff;
      z-index: 10;
    }
    
     .lightbox-nav:hover {
      background: #ccc;
    }

    .lightbox-nav:active {
      box-shadow: inset 1px 1px 0px #999, inset -1px -1px 0px #fff;
    }

    .lightbox-nav.prev {
      left: -50px;
    }

    .lightbox-nav.next {
      right: -50px;
    }

    .lightbox-counter {
      text-align: center;
      font-size: 0.7rem;
      color: #666;
      margin-top: 10px;
    }

   css    @media (max-width: 768px) {
      .lightbox-image {
        max-height: 35vh;
      }
      
      .lightbox-nav.prev {
        left: 5px;
      }
      
      .lightbox-nav.next {
        right: 5px;
      }
    }
    
    @media (max-height: 600px) and (orientation: landscape) {
      .lightbox-image {
        max-height: 50vh;
      }
    }    


    .modal-content img {
      max-width: 100%;
      height: auto;
      display: block;
    }

    .modal-content::-webkit-scrollbar {
      width: 16px;
    }

    .modal-content::-webkit-scrollbar-track {
      background: #ddd;
    }

    .modal-content::-webkit-scrollbar-thumb {
      background: #999;
      border: 2px solid #ddd;
    }

    .close-modal {
      position: absolute;
      top: 15px;
      left: 15px;
      font-size: 1.5rem;
      color: #000;
      cursor: pointer;
      background: #ddd;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 2px solid #000;
      border-radius: 0;
      transition: all 0.1s;
      box-shadow: inset -1px -1px 0px #999, inset 1px 1px 0px #fff;
    }

    .close-modal:hover {
      background: #ccc;
    }

    .close-modal:active {
      box-shadow: inset 1px 1px 0px #999, inset -1px -1px 0px #fff;
    }

    .modal-content h2 {
      font-size: clamp(1.2rem, 4vw, 2rem);
      margin-bottom: 25px;
      text-align: center;
      color: #000;
      text-shadow: none;
      padding-top: 10px;
    }

    .modal-content p {
      font-size: clamp(0.6rem, 1.8vw, 0.9rem);
      line-height: 1.8;
      margin-bottom: 15px;
      color: #000;
    }

    .modal-content strong {
      color: #000;
      font-weight: normal;
      text-decoration: underline;
    }

    /* Merch Gallery */
    .merch-gallery {
      display: flex;
      flex-direction: column;
      gap: 40px;
      margin-top: 20px;
    }

    .merch-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
    }

    .merch-item img {
      width: 100%;
      max-width: 500px;
      height: auto;
      border: 2px solid #000;
      border-radius: 0;
      box-shadow: 2px 2px 0px #000;
    }

    .merch-caption {
      text-align: center;
      font-size: clamp(0.55rem, 1.5vw, 0.8rem);
      color: #000;
      line-height: 1.6;
      max-width: 500px;
    }

    /* Overlay for game messages */
    .overlay {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #e8e8e8;
      color: #000;
      font-size: clamp(0.8rem, 2vw, 1.2rem);
      padding: 30px;
      border: 2px solid #000;
      border-radius: 0;
      display: none;
      z-index: 1000;
      text-shadow: none;
      white-space: pre-line;
      text-align: center;
      box-shadow: 4px 4px 0px #000;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
      .menu-links {
        gap: 8px;
      }
      
      .menu-link {
        padding: 8px 12px;
        font-size: 0.5rem;
      }

      .controls {
        flex-direction: column;
        gap: 10px;
      }

      .modal-content {
        padding: 50px 15px 20px 15px;
        max-width: 95vw;
        width: 95vw;
        max-height: 90vh;
      }
      
      .modal-content h2 {
        font-size: clamp(1rem, 5vw, 1.5rem);
        margin-bottom: 20px;
      }

      .merch-item img {
        max-width: 100%;
        max-height: 40vh;
        object-fit: contain;
      }
      
      .close-modal {
        width: 35px;
        height: 35px;
        top: 10px;
        left: 10px;
      }
    }
    
    @media (max-width: 480px) {
      .menu-link {
        padding: 6px 10px;
        font-size: 0.45rem;
      }
    }
    
    @media (max-width: 400px) {
      .burger-menu {
        top: 15px;
        right: 15px;
        width: 35px;
        height: 35px;
      }
    }

    /* Landscape Mobile */
    @media (max-height: 500px) and (orientation: landscape) {
      body {
        overflow-y: auto;
        overflow-x: hidden;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      
      .container {
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      
      .hero-screen {
        height: auto;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 40px 20px;
        margin: auto;
      }

      .hero-screen h1 {
        font-size: clamp(1.2rem, 5vw, 2.5rem);
        margin-bottom: 10px;
        margin-top: 0;
      }
      
      .hero-screen p {
        font-size: clamp(0.55rem, 1.8vw, 0.9rem);
        margin-bottom: 8px;
      }
      
      .start-btn {
        margin-top: 10px;
        margin-bottom: 15px;
        padding: 8px 25px;
        font-size: clamp(0.6rem, 1.8vw, 0.9rem);
      }
      
      .menu-links {
        margin-top: 20px;
      }
      
      .game-screen {
        min-height: 100vh;
        height: auto;
        justify-content: center;
        padding: 20px 0;
      }

      .controls {
        margin-bottom: 20px;
      }
      
      canvas {
        max-height: 55vh;
        max-width: 45vw;
      }
      
      .fullscreen-menu {
        align-items: flex-start;
      }
      
      .menu-content {
        padding: 100px 20px 60px 20px;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      .menu-items {
        gap: 15px;
      }
      
      .menu-item {
        padding: 10px 20px;
        font-size: clamp(0.6rem, 1.8vw, 1rem);
      }
    }

    @media (max-height: 600px) and (orientation: landscape) {
      .modal-content {
        padding: 50px 15px 20px 15px;
        max-width: 90vw;
        width: 90vw;
        max-height: 95vh;
      }
    }
  </style>
</head>
<body>

  <!-- Burger Menu -->
  <div class="burger-menu" id="burgerMenu" onclick="toggleMenu()">
    <div class="burger-line"></div>
    <div class="burger-line"></div>
    <div class="burger-line"></div>
  </div>

  <!-- Full Screen Menu -->
  <div class="fullscreen-menu" id="fullscreenMenu">
   <div class="menu-content">
  <h2>MENU</h2>
  <div class="menu-items">
    <button class="menu-item" onclick="goToHome()">Home</button>  <!-- THIS LINE WAS ADDED -->
    <button class="menu-item" onclick="startGameFromMenu()">Play Game</button>
    <button class="menu-item" onclick="openModalFromMenu('about')">About</button>
    <button class="menu-item" onclick="openModalFromMenu('reviews')">Reviews</button>
    <button class="menu-item" onclick="openModalFromMenu('faq')">FAQ</button>
    <button class="menu-item" onclick="openModalFromMenu('office')">Our Office</button>
    <button class="menu-item" onclick="openModalFromMenu('merch')">Merch</button>
  </div>
</div>
</div>

  <div class="container">
    <!-- Hero Screen -->
    <div class="hero-screen" id="heroScreen">
      <h1>LADDER LOOP</h1>
      <p>Climb. Fall. Repeat.</p>
      <p style="font-size: 0.7em; opacity: 0.8;">One button. Endless climb.</p>
      <button class="start-btn" onclick="startGame()">START</button>
    </div>

    <!-- Game Screen -->
    <div class="game-screen" id="gameScreen">
      <div class="canvas-container" id="canvasContainer">
        <canvas id="gameCanvas" width="400" height="450"></canvas>
        <div class="resize-handle bottom-right" id="resizeBottomRight"></div>
        <div class="resize-handle top-left" id="resizeTopLeft"></div>
        <div class="resize-handle top-right" id="resizeTopRight"></div>
        <div class="resize-handle bottom-left" id="resizeBottomLeft"></div>
      </div>
      <div class="controls">
        <button class="game-btn" id="muteBtn" onclick="toggleMute()">üîä Sound</button>
      </div>
    </div>

    <!-- Overlay for game messages -->
    <div class="overlay" id="overlay"></div>
  </div>

  <!-- Modal Overlay -->
  <div class="modal-overlay" id="modalOverlay" onclick="closeModalOnBackground(event)">
    <div class="modal-content" id="modalContent" onclick="event.stopPropagation()">
      <span class="close-modal" onclick="closeModal()">√ó</span>
      <div id="modalBody"></div>
    </div>
  </div>

  <audio id="climbAudio" src="https://www.ladderloop.com/media/audio/music.mp4"></audio>

  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");
    const overlay = document.getElementById("overlay");
    const climbAudio = document.getElementById("climbAudio");
    const modalOverlay = document.getElementById("modalOverlay");
    const modalBody = document.getElementById("modalBody");
    const canvasContainer = document.getElementById("canvasContainer");

    let character = { x: 187, y: 420, width: 30, height: 30 };
    let climbing = false;
    let score = 0;
    let speed = 4;
    let freezeFrame = false;
    let gameStarted = false;
    let audioEnabled = false;
    
    // Canvas resize variables
    let isResizing = false;
    let resizeHandle = null;
    let startX = 0;
    let startY = 0;
    let startWidth = 0;
    let startHeight = 0;
    
    // Ladder colors
    let currentLadderColorIndex = 0;
    let unlockedColors = [0];
    const ladderColors = [
      { name: "Classic Black", color: "#000", unlockScore: 0 },
      { name: "Electric Blue", color: "#0066cc", unlockScore: 5 },
      { name: "Neon Pink", color: "#ff0066", unlockScore: 10 },
      { name: "Toxic Green", color: "#00aa00", unlockScore: 15 },
      { name: "Purple Haze", color: "#9900cc", unlockScore: 20 },
      { name: "Golden Glory", color: "#cc9900", unlockScore: 25 },
      { name: "Rainbow Prism", color: "#000", unlockScore: 30, isRainbow: true }
    ];

    const funnyMessages = [
      "Why are you still playing?",
      "Climbing ladders... again...",
      "The loop is endless",
      "Gravity always wins",
      "Just one more try...",
      "You're stuck in the loop"
    ];
    
     // Lightbox tracking
    let currentLightboxType = '';
    let currentLightboxIndex = 0;
    
    

    // Merch carousel
    let currentMerchIndex = 0;
    const merchItems = [
      { src: "https://www.ladderloop.com/images/merch/merch_xmas.png", caption: "Ladder Loop Xmas Jumper ‚Äì santa drops gifts, you just drop." },
      { src: "https://www.ladderloop.com/images/merch/merch7.png", caption: "Ladder Loop Hoodie ‚Äì keeps you warm while you fall endlessly." },
      { src: "https://www.ladderloop.com/images/merch/merch6.png", caption: "Ladder Loop Cap ‚Äì shields your eyes. Not your score." },
      { src: "https://www.ladderloop.com/images/merch/merch4.png", caption: "Ladder Loop Mug ‚Äì holds hot drinks. Not your dignity." },
      { src: "https://www.ladderloop.com/images/merch/merch3.png", caption: "Ladder Loop Mousemat - Every click brings another fall." },
      { src: "https://www.ladderloop.com/images/merch/merch5.png", caption: "Ladder Loop Socks ‚Äì fall faster in style." }
    ];
    
    // Office images
    const officeItems = [
      { src: "https://www.ladderloop.com/images/office/office_38.png", caption: "Our state-of-the-art development station where all the falling happens." }
    ];
    

    function startGame() {
      document.getElementById("heroScreen").style.display = "none";
      document.getElementById("gameScreen").style.display = "flex";
      gameStarted = true;
      audioEnabled = false;
      score = 0;
      character.y = 420;
      climbing = false;
      currentLadderColorIndex = 0;
      unlockedColors = [0];
      update();
    }
    
    function goToHome() {
  toggleMenu(); // Close the menu first
  closeModal(); // Close any open modals
  setTimeout(() => {
    // Stop the game
    gameStarted = false;
    if (audioEnabled) {
      climbAudio.pause();
      climbAudio.currentTime = 0;
    }
    
    // Show hero screen, hide game screen
    document.getElementById("gameScreen").style.display = "none";
    document.getElementById("heroScreen").style.display = "flex";
    
    // Reset game state
    score = 0;
    character.y = 420;
    climbing = false;
    currentLadderColorIndex = 0;
    unlockedColors = [0];
  }, 300);
}

    function backToMenu() {
      document.getElementById("gameScreen").style.display = "none";
      document.getElementById("heroScreen").style.display = "flex";
      gameStarted = false;
      if (audioEnabled) {
        climbAudio.pause();
        climbAudio.currentTime = 0;
      }
    }

    function openModal(type) {
      let content = '';
      
      switch(type) {
        case 'about':
          content = `
            <h2>THE GAME</h2>
            <p>Ladder Loop is a minimalist arcade climb.</p>
            <p>How long can you last?</p>
            <p>Unlock new ladder <strong style="background: linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">colors</strong> as you score!</p>
            <p style="margin-top: 20px;">Click or tap to climb. Fall. Repeat. That's it.</p>
            <div style="margin-top: 40px; padding: 20px; border: 2px solid #00ffcc; border-radius: 10px; background: rgba(0, 255, 204, 0.05);">
              <p style="font-size: 0.8em; margin-bottom: 15px; color: #00ffcc;"><strong>Follow us:</strong></p>
              <p style="margin-bottom: 10px;">
                <a href="https://x.com/ladderloop" target="_blank" style="color: black; text-decoration: none; font-size: 0.75em; display: inline-block; padding: 5px 0; transition: all 0.3s;" onmouseover="this.style.color='black'; this.style.textShadow='0 0 10px black'" onmouseout="this.style.color='black'; this.style.textShadow='none'">üê¶ Twitter: @ladderloop</a>
              </p>
              <p>
                <a href="https://instagram.com/ladderloopgame" target="_blank" style="color: black; text-decoration: none; font-size: 0.75em; display: inline-block; padding: 5px 0; transition: all 0.3s;" onmouseover="this.style.color='black'; this.style.textShadow='0 0 10px black'" onmouseout="this.style.color='black'; this.style.textShadow='none'">üì∑ Instagram: @ladderloopgame</a>
              </p>
            </div>
          `;
          break;
          
        case 'reviews':
          content = `
            <h2>REVIEWS</h2>
            <p><strong>"I climbed once. Then I fell."</strong><br>- The Climber</p>
            <p><strong>"Best. Ladder. Ever."</strong><br>- Some guy who is still playing</p>
            <p><strong>"I fell off the ladder, and I haven't stopped playing since."</strong><br>- Time‚Äërich girl</p>
            <p><strong>"It's just a ladder but I can't stop."</strong><br>- Confused Player</p>
            <p><strong>"Simple. Addictive. Pointless. Perfect."</strong><br>- Game Critic</p>
          `;
          break;
          
        case 'faq':
          content = `
            <h2>FAQs</h2>
            <p><strong>Q:</strong> What's the point?<br><strong>A:</strong> Exactly.</p>
            <p><strong>Q:</strong> How do I win?<br><strong>A:</strong> You don't. But good luck trying.</p>
            <p><strong>Q:</strong> Is this game addictive?<br><strong>A:</strong> Are you still playing? Enough said.</p>
            <p><strong>Q:</strong> What happens when I reach the top?<br><strong>A:</strong> You fall. That's life.</p>
            <p><strong>Q:</strong> Can I play on mobile?<br><strong>A:</strong> Yes. Fall anywhere, anytime.</p>
            <p><strong>Q:</strong> Why is it called Ladder Loop?<br><strong>A:</strong> Because "Endless Falling Simulator" was taken.</p>
          `;
          break;
          
       case 'office':
  currentLightboxType = 'office';
  currentLightboxIndex = 0;
  content = `
    <h2>OUR OFFICE</h2>
    <p style="margin-bottom: 20px;">Where the magic happens!</p>
    ${createLightbox(officeItems, 0)}
  `;
  break;
  
case 'merch':
  currentLightboxType = 'merch';
  currentLightboxIndex = 0;
  content = `
    <h2>MERCH</h2>
    <p style="text-align: center; margin-bottom: 20px;">Launching Soon (maybe)</p>
    ${createLightbox(merchItems, 0)}
  `;
  break;
          
              }
      
      modalBody.innerHTML = content;
      modalOverlay.style.display = 'flex';
    }

   function closeModal() {
  modalOverlay.style.display = 'none';
  currentLightboxType = '';
  currentLightboxIndex = 0;
}
function closeModalOnBackground(event) {
      if (event.target === modalOverlay) {
        closeModal();
      }
    }

    function toggleMenu() {
      const burger = document.getElementById('burgerMenu');
      const menu = document.getElementById('fullscreenMenu');
      
      burger.classList.toggle('active');
      menu.classList.toggle('active');
    }

    function openModalFromMenu(type) {
      toggleMenu(); // Close the menu first
      setTimeout(() => {
        openModal(type);
      }, 300); // Small delay for smooth transition
    }
    
    function createLightbox(items, index) {
  const item = items[index];
  const showNav = items.length > 1;
  
  return `
    <div class="lightbox-container">
      ${showNav ? '<div class="lightbox-nav prev" onclick="navigateLightbox(-1)">‚Äπ</div>' : ''}
      <div class="image-loader">
        <div class="spinner"></div>
      </div>
      <img src="${item.src}" alt="Image ${index + 1}" class="lightbox-image" loading="lazy" onload="this.previousElementSibling.style.display='none'" onerror="this.previousElementSibling.innerHTML='‚ùå Failed to load'">
      ${showNav ? '<div class="lightbox-nav next" onclick="navigateLightbox(1)">‚Ä∫</div>' : ''}
    </div>
    <p class="lightbox-caption">${item.caption}</p>
    ${showNav ? `<p class="lightbox-counter">${index + 1} / ${items.length}</p>` : ''}
  `;
}

function navigateLightbox(direction) {
  const items = currentLightboxType === 'merch' ? merchItems : officeItems;
  currentLightboxIndex = (currentLightboxIndex + direction + items.length) % items.length;
  
  // Update modal content
  const titleText = currentLightboxType === 'merch' ? 'MERCH' : 'OUR OFFICE';
  const subtitleText = currentLightboxType === 'merch' 
    ? '<p style="text-align: center; margin-bottom: 20px;">Launching Soon (maybe)</p>'
    : '<p style="margin-bottom: 20px;">Where the magic happens!</p>';
  
  modalBody.innerHTML = `
    <h2>${titleText}</h2>
    ${subtitleText}
    ${createLightbox(items, currentLightboxIndex)}
  `;
}


    function startGameFromMenu() {
      toggleMenu(); // Close the menu first
      closeModal(); // Close any open modals
      setTimeout(() => {
        // Make sure we're showing the game screen
        document.getElementById("heroScreen").style.display = "none";
        document.getElementById("gameScreen").style.display = "flex";
        
        // Only reset game if not already started
        if (!gameStarted) {
          gameStarted = true;
          audioEnabled = false;
          score = 0;
          character.y = 420;
          climbing = false;
          currentLadderColorIndex = 0;
          unlockedColors = [0];
          update();
        }
      }, 300); // Small delay for smooth transition
    }

    function nextMerch() {
      currentMerchIndex = (currentMerchIndex + 1) % merchItems.length;
      updateMerchCarousel();
    }

    function previousMerch() {
      currentMerchIndex = (currentMerchIndex - 1 + merchItems.length) % merchItems.length;
      updateMerchCarousel();
    }

    function goToMerch(index) {
      currentMerchIndex = index;
      updateMerchCarousel();
    }

    function updateMerchCarousel() {
      const images = document.querySelectorAll('.carousel-image');
      const dots = document.querySelectorAll('.carousel-dot');
      const caption = document.getElementById('merchCaption');
      
      images.forEach((img, i) => {
        img.classList.toggle('active', i === currentMerchIndex);
      });
      
      dots.forEach((dot, i) => {
        dot.classList.toggle('active', i === currentMerchIndex);
      });
      
      if (caption) {
        caption.textContent = merchItems[currentMerchIndex].caption;
      }
    }

   // ESC key to close modal, arrow keys for navigation
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') {
    closeModal();
  } else if (currentLightboxType && modalOverlay.style.display === 'flex') {
    if (e.key === 'ArrowLeft') {
      navigateLightbox(-1);
    } else if (e.key === 'ArrowRight') {
      navigateLightbox(1);
    }
  }
});



    function drawLadder() {
      const currentColor = ladderColors[currentLadderColorIndex];
      
      if (currentColor.isRainbow) {
        const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
        gradient.addColorStop(0, "#ff0066");
        gradient.addColorStop(0.25, "#ff9900");
        gradient.addColorStop(0.5, "#ffcc00");
        gradient.addColorStop(0.75, "#00ff66");
        gradient.addColorStop(1, "#00ccff");
        ctx.strokeStyle = gradient;
      } else {
        ctx.strokeStyle = currentColor.color;
      }
      
      ctx.lineWidth = 6;
      ctx.beginPath();
      ctx.moveTo(150, 0);
      ctx.lineTo(150, 450);
      ctx.moveTo(250, 0);
      ctx.lineTo(250, 450);
      ctx.stroke();
      
      for (let i = 0; i < 450; i += 40) {
        ctx.beginPath();
        ctx.moveTo(150, i);
        ctx.lineTo(250, i);
        ctx.stroke();
      }
    }

    function drawCharacter() {
      ctx.fillStyle = "#ffff00";
      ctx.fillRect(character.x, character.y, character.width, character.height);
    }

    function drawScore() {
  ctx.fillStyle = "#000";
  ctx.font = "16px 'Press Start 2P', cursive";
  ctx.textAlign = "left";

  ctx.fillText("Pts:", 10, 30);

  let y = 55;
  const digits = String(score);

  for (let i = 0; i < digits.length; i++) {
    ctx.fillText(digits[i], 10, y);
    y += 20;
  }
}

    function showOverlay(text) {
      overlay.innerText = text;
      overlay.style.display = "block";
      freezeFrame = true;

      setTimeout(() => {
        overlay.style.display = "none";
        freezeFrame = false;
      }, 2500);
    }

    function checkColorUnlock(score) {
      for (let i = 0; i < ladderColors.length; i++) {
        if (score >= ladderColors[i].unlockScore && !unlockedColors.includes(i)) {
          unlockedColors.push(i);
          currentLadderColorIndex = i;
          showOverlay(`üé® Color Unlocked!\n${ladderColors[i].name}`);
          return true;
        }
      }
      return false;
    }

    function showFunnyMessage() {
      const randomMessage = funnyMessages[Math.floor(Math.random() * funnyMessages.length)];
      showOverlay(randomMessage);
    }

    function update() {
      if (!gameStarted) return;

      ctx.clearRect(0, 0, canvas.width, canvas.height);
      drawLadder();
      drawCharacter();
      drawScore();

      if (!freezeFrame) {
        if (climbing) {
          character.y -= speed;
          if (character.y <= 0) {
            climbing = false;
            score++;
            
            const colorUnlocked = checkColorUnlock(score);
            
            if (!colorUnlocked) {
              if (score % 5 === 0) showFunnyMessage();
            }
          }
        } else {
          character.y += speed;
          if (character.y >= 420) character.y = 420;
        }
      }

      requestAnimationFrame(update);
    }

    function climb() {
      if (!climbing && character.y >= 420 && !freezeFrame && gameStarted) {
        climbing = true;
        if (audioEnabled) {
          climbAudio.currentTime = 0;
          climbAudio.play();
        }
      }
    }

    canvas.addEventListener("click", climb);
    
    document.addEventListener("keydown", (e) => {
      if (e.code === "Space" && gameStarted) {
        climb();
        e.preventDefault();
      }
    });

    function toggleMute() {
      const muteBtn = document.getElementById('muteBtn');
      audioEnabled = !audioEnabled;
      
      if (audioEnabled) {
        muteBtn.innerHTML = 'üîä Sound';
        muteBtn.classList.add('active');
        if (climbing) {
          climbAudio.play();
        }
      } else {
        muteBtn.innerHTML = 'üîá Muted';
        muteBtn.classList.remove('active');
        climbAudio.pause();
      }
    }

    // Canvas resize functionality
    function initCanvasResize() {
      const handles = document.querySelectorAll('.resize-handle');
      
      handles.forEach(handle => {
        handle.addEventListener('mousedown', startResize);
        handle.addEventListener('touchstart', startResizeTouch, { passive: false });
      });
      
      document.addEventListener('mousemove', doResize);
      document.addEventListener('mouseup', stopResize);
      document.addEventListener('touchmove', doResizeTouch, { passive: false });
      document.addEventListener('touchend', stopResize);
    }

    function startResize(e) {
      isResizing = true;
      resizeHandle = e.target.id;
      startX = e.clientX;
      startY = e.clientY;
      startWidth = canvasContainer.offsetWidth;
      startHeight = canvasContainer.offsetHeight;
      e.preventDefault();
    }

    function startResizeTouch(e) {
      isResizing = true;
      resizeHandle = e.target.id;
      const touch = e.touches[0];
      startX = touch.clientX;
      startY = touch.clientY;
      startWidth = canvasContainer.offsetWidth;
      startHeight = canvasContainer.offsetHeight;
      e.preventDefault();
    }

    function doResize(e) {
      if (!isResizing) return;
      const deltaX = e.clientX - startX;
      const deltaY = e.clientY - startY;
      applyResize(deltaX, deltaY);
    }

    function doResizeTouch(e) {
      if (!isResizing) return;
      const touch = e.touches[0];
      const deltaX = touch.clientX - startX;
      const deltaY = touch.clientY - startY;
      applyResize(deltaX, deltaY);
      e.preventDefault();
    }

    function applyResize(deltaX, deltaY) {
      let newWidth = startWidth;
      let newHeight = startHeight;

      switch(resizeHandle) {
        case 'resizeBottomRight':
          newWidth = startWidth + deltaX;
          newHeight = startHeight + deltaY;
          break;
        case 'resizeTopLeft':
          newWidth = startWidth - deltaX;
          newHeight = startHeight - deltaY;
          break;
        case 'resizeTopRight':
          newWidth = startWidth + deltaX;
          newHeight = startHeight - deltaY;
          break;
        case 'resizeBottomLeft':
          newWidth = startWidth - deltaX;
          newHeight = startHeight + deltaY;
          break;
      }

      const minWidth = 200;
      const maxWidth = 1200;
      const minHeight = 225;
      const maxHeight = 1200;

      newWidth = Math.max(minWidth, Math.min(maxWidth, newWidth));
      newHeight = Math.max(minHeight, Math.min(maxHeight, newHeight));

      canvasContainer.style.width = newWidth + 'px';
      canvasContainer.style.height = newHeight + 'px';
      
      canvas.style.width = '100%';
      canvas.style.height = '100%';
    }

    function stopResize() {
      isResizing = false;
      resizeHandle = null;
    }

    // Initialize resize on load
    window.addEventListener('load', initCanvasResize);
  </script>

</body>
</html>
